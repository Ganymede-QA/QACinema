{"ast":null,"code":"var _jsxFileName = \"/Users/ahmadnaeem/Desktop/QACinema/Client/client/src/Profilebody.js\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\nimport { Link } from \"react-router-dom\";\nimport Navbar from \"./Navbar.js\";\nimport Footer from \"./Footer.js\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\n\nclass Comment extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.postComment = event => {\n      event.preventDefault();\n      const ID = this.props.match.params.id;\n      axios.post(`http://localhost:5000/api/comments`, {\n        commentBody: this.state.body,\n        name: this.state.name,\n        email: this.state.email,\n        movieId: ID\n      }).then(res => {\n        this.setState({\n          name: \"\",\n          body: \"\",\n          email: \"\"\n        });\n      });\n    };\n\n    this.state = {\n      movies: [],\n      comments: [],\n      name: \"\",\n      body: \"\",\n      email: \"\",\n      commentId: \"\"\n    };\n    this.bind(\"deleteComment\");\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    const ID = this.props.match.params.id;\n    axios.get(`http://localhost:5000/api/movies/${ID}`).then(res => {\n      const movies = res.data;\n      this.setState({\n        movies\n      });\n    });\n    axios.get(`http://localhost:5000/api/comments/${ID}`).then(res => {\n      const comments = res.data;\n      this.setState({\n        comments\n      });\n    });\n\n    function deleteComment(commentId) {\n      console.log(commentId);\n    }\n  }\n\n  componentDidUpdate() {\n    const ID = this.props.match.params.id;\n    axios.get(`http://localhost:5000/api/comments/${ID}`).then(res => {\n      const comments = res.data;\n      this.setState({\n        comments\n      });\n    });\n  }\n\n  // deleteComment = (commentId, event) => \n  //   event.preventDefault();\n  //   console.log(commentId)\n  //   //axios.delete(`http://localhost:5000/api/comments/${commentId}`)\n  // }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container-fluid\",\n      style: {\n        backgroundColor: \"black\",\n        color: \"white\",\n        paddingTop: \"80px\",\n        paddingBottom: \"80px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      style: {\n        paddingLeft: \"30px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: `../${this.state.movies.image}`,\n      style: {\n        height: \"700px\",\n        width: \"400px\"\n      },\n      alt: this.state.movies.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, this.state.movies.description, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 15\n      }\n    }, this.state.movies.title), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 15\n      }\n    }), \"Age Rating: \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 27\n      }\n    }), this.state.movies.ageRating, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }), \"Actors: \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 23\n      }\n    }), this.state.movies.cast, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    }), \"Director: \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }\n    }), this.state.movies.director, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }\n    }), \"Genre: \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 22\n      }\n    }), this.state.movies.genre, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 15\n      }\n    }), \"Duration: \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 25\n      }\n    }), this.state.movies.runningTime, \" minites\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        backgroundColor: \"black\",\n        color: \"white\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    }, \"Ratings & Reviews\")), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.postComment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"legend\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 19\n      }\n    }, \"Leave a comment\"), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"exampleForm.ControlInput1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }\n    }, \"Email address\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"email\",\n      placeholder: \"name@example.com\",\n      name: \"email\",\n      onChange: this.handleChange,\n      value: this.state.email,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"exampleForm.ControlInput1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"Jhon Smith\",\n      name: \"name\",\n      onChange: this.handleChange,\n      placeholder: \"Name\",\n      value: this.state.name,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"exampleForm.ControlTextarea1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }, \"Comment\"), /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"textarea\",\n      rows: \"3\",\n      name: \"body\",\n      value: this.state.body,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-secondary btn-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 19\n      }\n    }, \"Post Comment\"))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-14\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"list-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 19\n      }\n    }, this.state.comments.reverse().map(comment => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      class: \"list-group-item list-group-item-action active\",\n      style: {\n        marginTop: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex w-100 justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      class: \"mb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 27\n      }\n    }, comment.name), /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 27\n      }\n    }, `${new Date(comment.date).toLocaleTimeString()} ${new Date(comment.date).toLocaleDateString()}`)), /*#__PURE__*/React.createElement(\"p\", {\n      class: \"mb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 25\n      }\n    }, comment.commentBody), /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 25\n      }\n    }, comment.email)), /*#__PURE__*/React.createElement(Button, {\n      variant: \"danger\",\n      onClick: () => deleteComment(comment._Id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 25\n      }\n    }, \"Delete\"))))))))), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default Comment;","map":{"version":3,"sources":["/Users/ahmadnaeem/Desktop/QACinema/Client/client/src/Profilebody.js"],"names":["React","Component","axios","Link","Navbar","Footer","Form","Button","Comment","constructor","props","handleChange","event","setState","target","name","value","postComment","preventDefault","ID","match","params","id","post","commentBody","state","body","email","movieId","then","res","movies","comments","commentId","bind","componentDidMount","window","scrollTo","get","data","deleteComment","console","log","componentDidUpdate","render","backgroundColor","color","paddingTop","paddingBottom","paddingLeft","image","height","width","title","description","ageRating","cast","director","genre","runningTime","reverse","map","comment","marginTop","Date","date","toLocaleTimeString","toLocaleDateString","_Id"],"mappings":"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","sourcesContent":["import \"bootstrap/dist/css/bootstrap.css\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\nimport { Link } from \"react-router-dom\";\nimport Navbar from \"./Navbar.js\";\nimport Footer from \"./Footer.js\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\n\nclass Comment extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movies: [],\n      comments: [],\n      name: \"\",\n      body: \"\",\n      email: \"\",\n      commentId: \"\"\n    };\n    this.bind(\"deleteComment\")\n  }\n\n  handleChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    const ID = this.props.match.params.id;\n    axios.get(`http://localhost:5000/api/movies/${ID}`).then((res) => {\n      const movies = res.data;\n      this.setState({ movies });\n    });\n\n    axios.get(`http://localhost:5000/api/comments/${ID}`).then((res) => {\n      const comments = res.data;\n      this.setState({ comments });\n    });\n\n    function deleteComment(commentId){\n      console.log(commentId)\n    }\n  }\n\n  componentDidUpdate() {\n    const ID = this.props.match.params.id;\n    axios.get(`http://localhost:5000/api/comments/${ID}`).then((res) => {\n      const comments = res.data;\n      this.setState({ comments });\n    });\n  }\n\n  postComment = (event) => {\n    event.preventDefault();\n    const ID = this.props.match.params.id;\n    axios\n      .post(`http://localhost:5000/api/comments`, {\n        commentBody: this.state.body,\n        name: this.state.name,\n        email: this.state.email,\n        movieId: ID,\n      })\n      .then((res) => {\n        this.setState({\n          name: \"\",\n          body: \"\",\n          email: \"\",\n        });\n      });\n  };\n\n  // deleteComment = (commentId, event) => \n  //   event.preventDefault();\n  //   console.log(commentId)\n  //   //axios.delete(`http://localhost:5000/api/comments/${commentId}`)\n  // }\n\n  render() {\n    return (\n      <div>\n        <Navbar></Navbar>\n        <div\n          class=\"container-fluid\"\n          style={{\n            backgroundColor: \"black\",\n            color: \"white\",\n            paddingTop: \"80px\",\n            paddingBottom: \"80px\",\n          }}\n        >\n          <div class=\"row\" style={{ paddingLeft: \"30px\" }}>\n            <div class=\"col-4\">\n              <img\n                src={`../${this.state.movies.image}`}\n                style={{ height: \"700px\", width: \"400px\" }}\n                alt={this.state.movies.title}\n              />\n            </div>\n            <div class=\"col-5\">\n              {this.state.movies.description}\n              <br />\n            </div>\n            <div class=\"col-3\">\n              <h2>{this.state.movies.title}</h2>\n              <br />\n              Age Rating: <br />\n              {this.state.movies.ageRating}\n              <br />\n              <br />\n              Actors: <br />\n              {this.state.movies.cast}\n              <br />\n              <br />\n              Director: <br />\n              {this.state.movies.director}\n              <br />\n              <br />\n              Genre: <br />\n              {this.state.movies.genre}\n              <br />\n              <br />\n              Duration: <br />\n              {this.state.movies.runningTime} minites\n              <br />\n              <br />\n            </div>\n          </div>\n        </div>\n        <div style={{ backgroundColor: \"black\", color: \"white\" }}>\n          <center>\n            <h1>Ratings & Reviews</h1>\n          </center>\n          <div class=\"container\">\n            <div class=\"row\">\n              <div class=\"col-sm-4\">\n                <Form onSubmit={this.postComment}>\n                  <legend>Leave a comment</legend>\n                  <Form.Group controlId=\"exampleForm.ControlInput1\">\n                    <Form.Label>Email address</Form.Label>\n                    <Form.Control type=\"email\" placeholder=\"name@example.com\" name=\"email\" onChange={this.handleChange} value={this.state.email} required />\n                  </Form.Group>\n                  <Form.Group controlId=\"exampleForm.ControlInput1\">\n                    <Form.Label>Name</Form.Label>\n                    <Form.Control type=\"text\" placeholder=\"Jhon Smith\" name=\"name\" onChange={this.handleChange} placeholder=\"Name\" value={this.state.name} required/>\n                  </Form.Group>\n\n                  <Form.Group controlId=\"exampleForm.ControlTextarea1\">\n                    <Form.Label>Comment</Form.Label>\n                    <Form.Control as=\"textarea\" rows=\"3\" name=\"body\" value={this.state.body} onChange={this.handleChange}/>\n                  </Form.Group>\n                  <button type=\"submit\" class=\"btn btn-secondary btn-lg\">\n                    Post Comment\n                  </button>\n                </Form>\n              </div>\n              <div class=\"col-sm-8\">\n                <div class=\"col-sm-14\">\n                  <div class=\"list-group\">\n                    {this.state.comments.reverse().map((comment) => (\n                      <div>\n                      <a\n                        class=\"list-group-item list-group-item-action active\"\n                        style={{ marginTop: \"10px\" }}\n                      >\n                        <div class=\"d-flex w-100 justify-content-between\">\n                          <h5 class=\"mb-1\">{comment.name}</h5>\n                          <small>{`${new Date(\n                            comment.date\n                          ).toLocaleTimeString()} ${new Date(\n                            comment.date\n                          ).toLocaleDateString()}`}</small>\n                        </div>\n                        <p class=\"mb-1\">{comment.commentBody}</p>\n                        <small>{comment.email}</small>\n                      </a>\n                        <Button variant=\"danger\" onClick={() => deleteComment(comment._Id)}>Delete</Button>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Footer></Footer>\n      </div>\n    );\n  }\n}\n\nexport default Comment;\n"]},"metadata":{},"sourceType":"module"}